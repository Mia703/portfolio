---
import Navigation from "../components/Navigation.astro";
import Layout from "../layouts/Layout.astro";
import { CldImage } from "astro-cloudinary";
import { getCollection } from "astro:content";
const cloudinaryAssets = await getCollection("cloudinaryAssets");
const cloudinaryAssetsTest = await getCollection("cloudinaryTestPhotos");
console.log("assets: ", cloudinaryAssets);
---

<Layout>
	<Navigation current="photography" />
	<section class="photography-wrapper col-span-4 md:col-span-6 lg:col-span-12">
		<h2>My Photographs</h2>
		<div class="photographs-wrapper grid grid-cols-4 gap-4">
			{
				cloudinaryAssets.map(({ data: asset }) => (
					<CldImage
						src={asset.public_id}
						width={600}
						height={900}
						crop={"auto"}
						alt={asset.context?.custom.alt}
						sizes={"25vw"}
					/>
				))
			}

			{
				cloudinaryAssetsTest.map((asset) => (
					<CldImage
						src={asset.data.public_id}
						width={600}
						height={900}
						crop={"auto"}
						sizes={"25vw"}
						alt={asset.data.context?.custom.alt}
					/>
				))
			}
		</div>
	</section>
</Layout>
